<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formattable data frame â€¢ formattable</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Formattable data frame">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">formattable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/formattable-data-frame.html">Formattable data frame</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction to formattable package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/renkun-ken/formattable/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><link href="formattable-data-frame_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="formattable-data-frame_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="formattable-data-frame_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="formattable-data-frame_files/datatables-binding-0.33/datatables.js"></script><link href="formattable-data-frame_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="formattable-data-frame_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="formattable-data-frame_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="formattable-data-frame_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="formattable-data-frame_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Formattable data frame</h1>
                        <h4 data-toc-skip class="author">Kun Ren</h4>
            
            <h4 data-toc-skip class="date">2024-11-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/renkun-ken/formattable/blob/master/vignettes/formattable-data-frame.Rmd" class="external-link"><code>vignettes/formattable-data-frame.Rmd</code></a></small>
      <div class="hidden name"><code>formattable-data-frame.Rmd</code></div>

    </div>

    
    
<p>Formattable data frames are data frames to be rendered as HTML table
with formatter functions applied, which resembles conditional formatting
in Microsoft Excel.</p>
<div class="section level3">
<h3 id="simple-examples">Simple examples<a class="anchor" aria-label="anchor" href="#simple-examples"></a>
</h3>
<p>Suppose we have the following data frame:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span>
<span>  prev_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">8</span>, <span class="fl">6</span>, <span class="fl">8</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  cur_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span>,</span>
<span>  change <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In the console, it is printed as plain texts:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores</span></span></code></pre></div>
<pre><code><span><span class="co">##   id prev_score cur_score change</span></span>
<span><span class="co">## 1  1         10         8     -2</span></span>
<span><span class="co">## 2  2          8         9      1</span></span>
<span><span class="co">## 3  3          6         7      1</span></span>
<span><span class="co">## 4  4          8         8      0</span></span>
<span><span class="co">## 5  5          8         9      1</span></span></code></pre>
<p>Using <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable()</a></code> or <code><a href="../reference/formattable.html">formattable()</a></code>, the
data frame can be rendered as HTML table which looks more friendly.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://renkun-ken.github.io/formattable/" class="external-link">formattable</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
prev_score
</th>
<th style="text-align:right;">
cur_score
</th>
<th style="text-align:right;">
change
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
-2
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>In fact, <code><a href="../reference/formattable.html">formattable()</a></code> calls <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable()</a></code>
internally to translate data frame to HTML code. In addition,
<code><a href="../reference/formattable.html">formattable()</a></code> supports formatter functions to customize the
transformation between values in the data frame to HTML code to
generate.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plain_formatter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatter.html">formatter</a></span><span class="op">(</span><span class="st">"span"</span><span class="op">)</span></span>
<span><span class="fu">plain_formatter</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "&lt;span&gt;1&lt;/span&gt;" "&lt;span&gt;2&lt;/span&gt;" "&lt;span&gt;3&lt;/span&gt;"</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">width_formatter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatter.html">formatter</a></span><span class="op">(</span><span class="st">"span"</span>,</span>
<span>  style <span class="op">=</span> <span class="va">x</span> <span class="op">~</span> <span class="fu"><a href="../reference/style.html">style</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fu"><a href="../reference/suffix.html">suffix</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"px"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">width_formatter</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "&lt;span style=\"width: 10px\"&gt;10&lt;/span&gt;"</span></span>
<span><span class="co">## [2] "&lt;span style=\"width: 11px\"&gt;11&lt;/span&gt;"</span></span>
<span><span class="co">## [3] "&lt;span style=\"width: 12px\"&gt;12&lt;/span&gt;"</span></span></code></pre>
<p>The values of <code>change</code> can be positive, negative or zero.
We can make positives green, negatives red, and zeros black by creating
a formatter function that performs conditional transformation from value
to HTML code.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sign_formatter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatter.html">formatter</a></span><span class="op">(</span><span class="st">"span"</span>, </span>
<span>  style <span class="op">=</span> <span class="va">x</span> <span class="op">~</span> <span class="fu"><a href="../reference/style.html">style</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="st">"green"</span>, </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="st">"red"</span>, <span class="st">"black"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">sign_formatter</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "&lt;span style=\"color: red\"&gt;-1&lt;/span&gt;" </span></span>
<span><span class="co">## [2] "&lt;span style=\"color: black\"&gt;0&lt;/span&gt;"</span></span>
<span><span class="co">## [3] "&lt;span style=\"color: green\"&gt;1&lt;/span&gt;"</span></span></code></pre>
<p>Note that we donâ€™t have to write HTML but use helper functions like
<code><a href="../reference/style.html">style()</a></code> and <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> to make it easier to
specify conditions. Then we call <code><a href="../reference/formattable.html">formattable()</a></code> on the data
frame with a list of formatter functions so as to apply conditional
formatting.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">scores</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>change <span class="op">=</span> <span class="va">sign_formatter</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
prev_score
</th>
<th style="text-align:right;">
cur_score
</th>
<th style="text-align:right;">
change
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="color: red">-2</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
<span style="color: green">1</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
<span style="color: green">1</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="color: black">0</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
<span style="color: green">1</span>
</td>
</tr>
</tbody>
</table>
<p>We can also create another formatter function that makes
above-average values bold while leaving others unchanged.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">above_avg_bold</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/formatter.html">formatter</a></span><span class="op">(</span><span class="st">"span"</span>, </span>
<span>  style <span class="op">=</span> <span class="va">x</span> <span class="op">~</span> <span class="fu"><a href="../reference/style.html">style</a></span><span class="op">(</span><span class="st">"font-weight"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">"bold"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">scores</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  prev_score <span class="op">=</span> <span class="va">above_avg_bold</span>,</span>
<span>  cur_score <span class="op">=</span> <span class="va">above_avg_bold</span>,</span>
<span>  change <span class="op">=</span> <span class="va">sign_formatter</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
prev_score
</th>
<th style="text-align:right;">
cur_score
</th>
<th style="text-align:right;">
change
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
<span style="font-weight: bold">10</span>
</td>
<td style="text-align:right;">
<span>8</span>
</td>
<td style="text-align:right;">
<span style="color: red">-2</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
<span>8</span>
</td>
<td style="text-align:right;">
<span style="font-weight: bold">9</span>
</td>
<td style="text-align:right;">
<span style="color: green">1</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
<span>6</span>
</td>
<td style="text-align:right;">
<span>7</span>
</td>
<td style="text-align:right;">
<span style="color: green">1</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
<span>8</span>
</td>
<td style="text-align:right;">
<span>8</span>
</td>
<td style="text-align:right;">
<span style="color: black">0</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
<span>8</span>
</td>
<td style="text-align:right;">
<span style="font-weight: bold">9</span>
</td>
<td style="text-align:right;">
<span style="color: green">1</span>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="cross-formatting">Cross formatting<a class="anchor" aria-label="anchor" href="#cross-formatting"></a>
</h3>
<p>Sometimes, we need to format one column based on the values of
another column. This can be easily done with one-sided formula in
<code><a href="../reference/formatter.html">formatter()</a></code>. When using
<code>formatter("span", style = ~ expr)</code>, <code>expr</code> is
evaluated in the data frame so that all columns are available for
use.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">scores</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  cur_score <span class="op">=</span> <span class="fu"><a href="../reference/formatter.html">formatter</a></span><span class="op">(</span><span class="st">"span"</span>, </span>
<span>    style <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="../reference/style.html">style</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">change</span> <span class="op">&gt;=</span> <span class="fl">0</span>, <span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
prev_score
</th>
<th style="text-align:right;">
cur_score
</th>
<th style="text-align:right;">
change
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
<span style="color: red">8</span>
</td>
<td style="text-align:right;">
-2
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="color: green">9</span>
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
<span style="color: green">7</span>
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="color: green">8</span>
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="color: green">9</span>
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="hiding-columns">Hiding columns<a class="anchor" aria-label="anchor" href="#hiding-columns"></a>
</h3>
<p>To hide columns, use <code>FALSE</code> formatter.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">scores</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>prev_score <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
cur_score
</th>
<th style="text-align:right;">
change
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
-2
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="using-built-in-formatters">Using built-in formatters<a class="anchor" aria-label="anchor" href="#using-built-in-formatters"></a>
</h3>
<p>To making formatting easier, formattable package provides a group of
built-in formatter functions. Suppose we have the following data on a
number of products. Some columns are already formattable vectors.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">products</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, </span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">12</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span>,</span>
<span>  rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  market_share <span class="op">=</span> <span class="fu"><a href="../reference/legacy.html">percent</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.12</span>, <span class="fl">0.05</span>, <span class="fl">0.03</span>, <span class="fl">0.14</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  revenue <span class="op">=</span> <span class="fu"><a href="../reference/legacy.html">accounting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">55000</span>, <span class="fl">36400</span>, <span class="fl">12000</span>, <span class="op">-</span><span class="fl">25000</span>, <span class="fl">98100</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  profit <span class="op">=</span> <span class="fu"><a href="../reference/legacy.html">accounting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25300</span>, <span class="fl">11500</span>, <span class="op">-</span><span class="fl">8200</span>, <span class="op">-</span><span class="fl">46000</span>, <span class="fl">65000</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">products</span></span></code></pre></div>
<pre><code><span><span class="co">##   id price rating market_share     revenue      profit</span></span>
<span><span class="co">## 1  1    10      5       10.00%   55,000.00   25,300.00</span></span>
<span><span class="co">## 2  2    15      4       12.00%   36,400.00   11,500.00</span></span>
<span><span class="co">## 3  3    12      4        5.00%   12,000.00  (8,200.00)</span></span>
<span><span class="co">## 4  4     8      3        3.00% (25,000.00) (46,000.00)</span></span>
<span><span class="co">## 5  5     9      4       14.00%   98,100.00   65,000.00</span></span></code></pre>
<p>Without any formatter functions applied, the formattable data frame
is directly rendered as an HTML table.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">products</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
price
</th>
<th style="text-align:right;">
rating
</th>
<th style="text-align:right;">
market_share
</th>
<th style="text-align:right;">
revenue
</th>
<th style="text-align:right;">
profit
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
10.00%
</td>
<td style="text-align:right;">
55,000.00
</td>
<td style="text-align:right;">
25,300.00
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
12.00%
</td>
<td style="text-align:right;">
36,400.00
</td>
<td style="text-align:right;">
11,500.00
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5.00%
</td>
<td style="text-align:right;">
12,000.00
</td>
<td style="text-align:right;">
(8,200.00)
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3.00%
</td>
<td style="text-align:right;">
(25,000.00)
</td>
<td style="text-align:right;">
(46,000.00)
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
14.00%
</td>
<td style="text-align:right;">
98,100.00
</td>
<td style="text-align:right;">
65,000.00
</td>
</tr>
</tbody>
</table>
<p>We can supply a list of formatter functions to make it look more
colorful. For example, we apply <code>sign_formatter</code> to
<code>profit</code> column so that values of different signs are
displayed in different colors.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">products</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>profit <span class="op">=</span> <span class="va">sign_formatter</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
price
</th>
<th style="text-align:right;">
rating
</th>
<th style="text-align:right;">
market_share
</th>
<th style="text-align:right;">
revenue
</th>
<th style="text-align:right;">
profit
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
10.00%
</td>
<td style="text-align:right;">
55,000.00
</td>
<td style="text-align:right;">
<span style="color: green">25,300.00</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
12.00%
</td>
<td style="text-align:right;">
36,400.00
</td>
<td style="text-align:right;">
<span style="color: green">11,500.00</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5.00%
</td>
<td style="text-align:right;">
12,000.00
</td>
<td style="text-align:right;">
<span style="color: red">(8,200.00)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3.00%
</td>
<td style="text-align:right;">
(25,000.00)
</td>
<td style="text-align:right;">
<span style="color: red">(46,000.00)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
14.00%
</td>
<td style="text-align:right;">
98,100.00
</td>
<td style="text-align:right;">
<span style="color: green">65,000.00</span>
</td>
</tr>
</tbody>
</table>
<p>Using built-in functions like <code><a href="../reference/color_tile.html">color_tile()</a></code> and
<code><a href="../reference/color_bar.html">color_bar()</a></code> makes it easier to compare the magnitute of
values of specified columns.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">products</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  price <span class="op">=</span> <span class="fu"><a href="../reference/color_tile.html">color_tile</a></span><span class="op">(</span><span class="st">"transparent"</span>, <span class="st">"lightpink"</span><span class="op">)</span>,</span>
<span>  rating <span class="op">=</span> <span class="fu"><a href="../reference/color_bar.html">color_bar</a></span><span class="op">(</span><span class="st">"lightgreen"</span><span class="op">)</span>,</span>
<span>  market_share <span class="op">=</span> <span class="fu"><a href="../reference/color_bar.html">color_bar</a></span><span class="op">(</span><span class="st">"lightblue"</span><span class="op">)</span>,</span>
<span>  revenue <span class="op">=</span> <span class="va">sign_formatter</span>,</span>
<span>  profit <span class="op">=</span> <span class="va">sign_formatter</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
price
</th>
<th style="text-align:right;">
rating
</th>
<th style="text-align:right;">
market_share
</th>
<th style="text-align:right;">
revenue
</th>
<th style="text-align:right;">
profit
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffeaed">10</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightgreen; width: 100.00%">5</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightblue; width: 71.43%">10.00%</span>
</td>
<td style="text-align:right;">
<span style="color: green">55,000.00</span>
</td>
<td style="text-align:right;">
<span style="color: green">25,300.00</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">15</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightgreen; width: 80.00%">4</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightblue; width: 85.71%">12.00%</span>
</td>
<td style="text-align:right;">
<span style="color: green">36,400.00</span>
</td>
<td style="text-align:right;">
<span style="color: green">11,500.00</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd5db">12</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightgreen; width: 80.00%">4</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightblue; width: 35.71%">5.00%</span>
</td>
<td style="text-align:right;">
<span style="color: green">12,000.00</span>
</td>
<td style="text-align:right;">
<span style="color: red">(8,200.00)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff">8</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightgreen; width: 60.00%">3</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightblue; width: 21.43%">3.00%</span>
</td>
<td style="text-align:right;">
<span style="color: red">(25,000.00)</span>
</td>
<td style="text-align:right;">
<span style="color: red">(46,000.00)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fff4f6">9</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightgreen; width: 80.00%">4</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: lightblue; width: 100.00%">14.00%</span>
</td>
<td style="text-align:right;">
<span style="color: green">98,100.00</span>
</td>
<td style="text-align:right;">
<span style="color: green">65,000.00</span>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="area-formatting">Area formatting<a class="anchor" aria-label="anchor" href="#area-formatting"></a>
</h3>
<p>Sometimes, it is useful to apply a formatter function to an area so
that all cells in the area share one benchmark. Area formatting is
supported through the syntax of <code>area(row, col) ~ formatter</code>
in the formatter list.</p>
<p>The following example renders the three columns altogether so that
they share the same benchmark, not independently.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, </span>
<span>  a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/area.html">area</a></span><span class="op">(</span>col <span class="op">=</span> <span class="va">a</span><span class="op">:</span><span class="va">c</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="../reference/color_tile.html">color_tile</a></span><span class="op">(</span><span class="st">"transparent"</span>, <span class="st">"pink"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe7eb">-0.56047565</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffc9d2">1.2240818</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffeff2">-1.0678237</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe1e6">-0.23017749</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd7de">0.3598138</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe1e6">-0.2179749</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffc3ce">1.55870831</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd7de">0.4007715</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffeff1">-1.0260044</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffdce2">0.07050839</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffdce2">0.1106827</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffeaed">-0.7288912</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffdbe1">0.12928774</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe7eb">-0.5558411</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe8ec">-0.6250393</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffc1cb">1.71506499</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffc0cb">1.7869131</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fffafb">-1.6866933</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd6dd">0.46091621</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd5dc">0.4978505</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffcfd8">0.8377870</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fff3f5">-1.26506123</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff">-1.9666172</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffdbe1">0.1533731</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe9ed">-0.68685285</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd2da">0.7013559</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fff1f3">-1.1381369</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe5e9">-0.44566197</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffe5ea">-0.4727914</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffc8d2">1.2538149</span>
</td>
</tr>
</tbody>
</table>
<p>If a one-sided formula is supplied, the function will be applied to
all cells.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">~</span> <span class="va">percent</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:right;">
c
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
-56.05%
</td>
<td style="text-align:right;">
122.41%
</td>
<td style="text-align:right;">
-106.78%
</td>
</tr>
<tr>
<td style="text-align:right;">
-23.02%
</td>
<td style="text-align:right;">
35.98%
</td>
<td style="text-align:right;">
-21.80%
</td>
</tr>
<tr>
<td style="text-align:right;">
155.87%
</td>
<td style="text-align:right;">
40.08%
</td>
<td style="text-align:right;">
-102.60%
</td>
</tr>
<tr>
<td style="text-align:right;">
7.05%
</td>
<td style="text-align:right;">
11.07%
</td>
<td style="text-align:right;">
-72.89%
</td>
</tr>
<tr>
<td style="text-align:right;">
12.93%
</td>
<td style="text-align:right;">
-55.58%
</td>
<td style="text-align:right;">
-62.50%
</td>
</tr>
<tr>
<td style="text-align:right;">
171.51%
</td>
<td style="text-align:right;">
178.69%
</td>
<td style="text-align:right;">
-168.67%
</td>
</tr>
<tr>
<td style="text-align:right;">
46.09%
</td>
<td style="text-align:right;">
49.79%
</td>
<td style="text-align:right;">
83.78%
</td>
</tr>
<tr>
<td style="text-align:right;">
-126.51%
</td>
<td style="text-align:right;">
-196.66%
</td>
<td style="text-align:right;">
15.34%
</td>
</tr>
<tr>
<td style="text-align:right;">
-68.69%
</td>
<td style="text-align:right;">
70.14%
</td>
<td style="text-align:right;">
-113.81%
</td>
</tr>
<tr>
<td style="text-align:right;">
-44.57%
</td>
<td style="text-align:right;">
-47.28%
</td>
<td style="text-align:right;">
125.38%
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="dynamically-generating-formatters">Dynamically generating formatters<a class="anchor" aria-label="anchor" href="#dynamically-generating-formatters"></a>
</h2>
<p>Since <code><a href="../reference/formattable.html">formattable()</a></code> accepts a list of formatter
functions, the list can be dynamically generated. For example, the
following code applies row-wise formatting, that is, each row is colored
independently.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">cbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">row</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/area.html">area</a></span><span class="op">(</span><span class="va">row</span>, col <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="../reference/color_tile.html">color_tile</a></span><span class="op">(</span><span class="st">"lightpink"</span>, <span class="st">"lightblue"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
1
</th>
<th style="text-align:right;">
2
</th>
<th style="text-align:right;">
3
</th>
<th style="text-align:right;">
4
</th>
<th style="text-align:right;">
5
</th>
<th style="text-align:right;">
6
</th>
<th style="text-align:right;">
7
</th>
<th style="text-align:right;">
8
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c8ccd9">0.42646422</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #feb6c1">-0.69470698</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d0c9d5">0.25331851</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #cacbd8">0.37963948</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f4bac5">-0.4910312</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #dcc4d0">0.005764186</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">0.9935039</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-0.71040656</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c5cddb">-0.29507148</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c2cfdc">-0.20791728</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #bdd1de">-0.02854676</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #cbcbd8">-0.50232345</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-2.3091689</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #b1d6e3">0.385280401</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">0.5483970</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #b5d4e2">0.25688371</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #b0d6e4">0.89512566</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.26539635</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d2c8d4">-0.04287046</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ddc3d0">-0.33320738</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">1.0057385</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #dec3cf">-0.370660032</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c8ccd9">0.2387317</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #dac5d1">-0.24669188</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #cecad7">0.87813349</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">2.16895597</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c1cfdc">1.36860228</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.01857538</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f7b9c4">-0.7092008</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d4c7d4">0.644376549</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f4bac5">-0.6279061</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #edbdc8">-0.34754260</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #bfd0dd">0.82158108</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #b2d5e3">1.20796200</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e2c1cd">-0.22577099</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.07179123</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f2bbc6">-0.6880086</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e2c1cd">-0.220486562</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">1.3606524</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fab7c2">-0.95161857</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c6cdda">0.68864025</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.12310858</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">1.51647060</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d2c8d4">0.30352864</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #bcd1df">1.0255714</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d1c8d5">0.331781964</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #eebcc8">-0.6002596</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ddc3d0">-0.04502772</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d0c9d5">0.55391765</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e5c0cc">-0.40288484</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.54875280</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d3c8d4">0.44820978</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e3c1cd">-0.2847730</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c4cedb">1.096839013</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">2.1873330</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #eebcc8">-0.78490447</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d5c7d3">-0.06191171</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e0c2ce">-0.46665535</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c5cddb">0.58461375</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #d2c8d4">0.05300423</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f3bac6">-1.2207177</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c9ccd9">0.435181491</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">1.5326106</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.66794194</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fab7c3">-0.30596266</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #b5d4e1">0.77996512</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #dfc3cf">0.12385424</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">0.92226747</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #dbc4d0">0.1813035</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fbb7c2">-0.325931586</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #f5b9c5">-0.2357004</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-0.38022652</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #edbdc8">-0.38047100</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e5c0cc">-0.08336907</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ddc3cf">0.21594157</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #add8e6">2.05008469</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #e7bfcb">-0.1388914</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #c5cedb">1.148807618</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1">-1.0264209</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #cbcbd8">0.91899661</span>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="converting-to-dtdatatables">Converting to <code>DT::datatables</code><a class="anchor" aria-label="anchor" href="#converting-to-dtdatatables"></a>
</h2>
<p><code><a href="../reference/as.datatable.html">as.datatable()</a></code> is designed to convert a formattable data
frame to <code>DT::datatables</code>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/as.datatable.html">as.datatable</a></span><span class="op">(</span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">products</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["1","2","3","4","5"],["10","15","12","8","9"],["5","4","4","3","4"],["10.00%","12.00%","5.00%","3.00%","14.00%"],["55,000.00","36,400.00","12,000.00","(25,000.00)","98,100.00"],["25,300.00","11,500.00","(8,200.00)","(46,000.00)","65,000.00"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>price<\/th>\n      <th>rating<\/th>\n      <th>market_share<\/th>\n      <th>revenue<\/th>\n      <th>profit<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"id","targets":1},{"name":"price","targets":2},{"name":"rating","targets":3},{"name":"market_share","targets":4},{"name":"revenue","targets":5},{"name":"profit","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p>Some formatters can be preserved well after the conversion.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/as.datatable.html">as.datatable</a></span><span class="op">(</span><span class="fu"><a href="../reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">products</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  price <span class="op">=</span> <span class="fu"><a href="../reference/color_tile.html">color_tile</a></span><span class="op">(</span><span class="st">"transparent"</span>, <span class="st">"lightpink"</span><span class="op">)</span>,</span>
<span>  revenue <span class="op">=</span> <span class="va">sign_formatter</span>,</span>
<span>  profit <span class="op">=</span> <span class="va">sign_formatter</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["1","2","3","4","5"],["<span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffeaed\">10<\/span>","<span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffb6c1\">15<\/span>","<span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffd5db\">12<\/span>","<span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">8<\/span> ","<span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fff4f6\">9<\/span> "],["5","4","4","3","4"],["10.00%","12.00%","5.00%","3.00%","14.00%"],["<span style=\"color: green\">55,000.00<\/span>","<span style=\"color: green\">36,400.00<\/span>","<span style=\"color: green\">12,000.00<\/span>","<span style=\"color: red\">(25,000.00)<\/span>","<span style=\"color: green\">98,100.00<\/span>"],["<span style=\"color: green\">25,300.00<\/span>","<span style=\"color: green\">11,500.00<\/span>","<span style=\"color: red\">(8,200.00)<\/span> ","<span style=\"color: red\">(46,000.00)<\/span>","<span style=\"color: green\">65,000.00<\/span>"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>price<\/th>\n      <th>rating<\/th>\n      <th>market_share<\/th>\n      <th>revenue<\/th>\n      <th>profit<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"id","targets":1},{"name":"price","targets":2},{"name":"rating","targets":3},{"name":"market_share","targets":4},{"name":"revenue","targets":5},{"name":"profit","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Kun Ren, Kenton Russell.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

      </footer>
</div>






  </body>
</html>
